{"meta":{"title":"Blog of Faradays' Studio","subtitle":"照见五蕴皆空，度一切苦厄。","description":"自信人生二百里，会当击水三千里！","author":"John Doe","url":"https://faradays-studio.gitee.io","root":"/"},"pages":[{"title":"hexo 博客系统开发笔记","date":"2020-08-28T13:04:39.307Z","updated":"2020-08-28T13:04:39.307Z","comments":true,"path":"about/change_log-hexo.html","permalink":"https://faradays-studio.gitee.io/about/change_log-hexo.html","excerpt":"","text":"项目概要 创建于: 2020/07/05 08:23:50 0.0.0 更新于: 2020/08/23 23:32:05 0.1.5 项目名称： Faradays 〔Ocean〕 设计理念：立足现在，放眼未来。 许可协议：请遵守 APGLv3 协议，侵权必究！ Licensed under GNU APGLv3. You may send your request to imhhj@vip.qq.com and wait for your License Confirmation email. See https://www.gnu.org/licenses/agpl-3.0.html or https://choosealicense.com/licenses/agpl-3.0/ for the license details. hexo 基础知识hexo 内置变量 https://hexo.io/zh-cn/docs/variables.html layout.ejs 是整个页面的入口，所有的页面都基于 layout.ejs生成 Faradays 主题结构layout 目录清单如下： │ archive.ejs │ category.ejs │ index.ejs // 首页 │ layout.ejs // 布局（所有页） │ page.ejs │ post.ejs // 文章页 │ tag.ejs │ ├─_partial │ │ after-footer.ejs │ │ archive-post.ejs │ │ archive.ejs │ │ article.ejs │ │ footer.ejs │ │ head.ejs │ │ header.ejs │ │ mobile-nav.ejs │ │ search.ejs │ │ sidebar.ejs │ │ │ ├─plugins │ │ ├─analytics │ │ │ baidu-analytics.ejs │ │ │ cnzz-analytics.ejs │ │ │ google-analytics.ejs │ │ │ │ │ ├─comments │ │ │ changyan.ejs │ │ │ gitment.ejs │ │ │ wangyiyun.ejs │ │ │ youyan.ejs │ │ │ │ │ └─sites │ │ visit.ejs │ │ │ └─post │ category.ejs │ copyright.ejs │ date.ejs │ gallery.ejs │ nav.ejs │ reward.ejs │ share.ejs │ tag.ejs │ title.ejs │ toc.ejs │ └─_widget archive.ejs category.ejs recent_posts.ejs tag.ejs tagcloud.ejs 使用注意事项 Front-matter 中的数字应当使用引号包围，才能形成字符；如果需要转换为数字，可以使用相应的 JavaScript 转换函数。 图片在部署后可以显示，本地测试时，图片不显示。 Git 命令集成 测试 GitHub 可访问性 ssh -T git@github.com 更新主分支（下载更新） D: &amp;&amp; D:\\faradays-studio.github\\faradays-studio.github.io &amp;&amp; git checkout 更新其他分支（下载更新） git checkout -b blog origin/bloggit checkout -t origin/blog 提交到本地 git commit -a -m u”pdate the website statement” 提交到GitHub git push origin master git checkout -b &lt;分支名&gt; git checkout -b blog 从 服务器 下载更新到本地 由于 hexo 更新后，本地会版本落后，因此需要更新 git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt; git pull origin master 或 git pull origin master:master git pull origin blog:blog $git clone &lt;远程Arepository&gt; #克隆你fork出来的分支$git remote add &lt;远程B repository标签&gt; git@github.com:XXXX/ceph.git #添加远程B repository标签$git pull &lt;远程B厂库标签&gt; master:master #从远程Brepository的master分支拉取最新objects合并到本地master分支$git checkout YYYY #切换到要修改的分支上$git branch develop; git checkout develop #在当前分支的基础上创建一个开发分支，并切换到该分支上，你将在该分支上coding coding…… #在工作区coding $git add .#将修改保存到索引区$git commit -a #将修改提交到本地分区 $git push origin my_test:my_test #将本地分支my_test提交到远程A repository的my_test分支上 查看分支 git branch -a git branch -v git branch -r查看最近的 commit 信息 git show HEAD 按 q 退出 UniqueColor.git chekout分支遇到问题：need merge[EB/OL].https://www.cnblogs.com/UniqueColor/p/6594942.html, 2020/08/26. 奔跑的小龙码.git删除指定commit[EB/OL].https://www.cnblogs.com/lwcode6/p/11809973.html, 2020/08/26. 通过 add /rm 来指定本机处理措施，git commit -s，再 pull，再push Jack_Chao.Git 快速使用 之 冲突 merge 快速解决[EB/OL].https://www.jianshu.com/p/50ef88bda474, 2020/08/26. 星辰之力.git push &amp; git pull 推送/拉取分支[EB/OL].https://www.cnblogs.com/zhujiabin/p/9641305.html, 2020/08/27. hexo 博客删除部分 commit 的操作实践经过 2 天半的来回测试，终于删除了上传了隐藏文件 hid*.html 文件的提交。 出现 HEAD detached at 68e8065 等错误的解决方法： # 给 blog 起个 branch 名 blog_temp1 git branch blog_temp1 blog git branch -a # Head 指向实际使用的 branch，注意不是 origin/blog git checkout blog # 融合到当前 branch git merge blog_temp1 合并时存在问题，如果以本地为准 git add，以服务器为准则 git rm XXXX，然后 git commit 再重新执行合并 # 删除临时 branch git branch -d blog_temp1 删除特定 commit (# 由于 hexo 自身存在一个版本库，因此需要进行相应的处理) git log git rebase -i XXX # 将需要删除的最早的提交之前的一次提交做基础 将相关 commit 记录中的 pick 改为 drop，保存即实现本地删除。 git push origin blog -f # 强制提交本地版本到远程（实现远程删除） git status # 查看状态 git log --oneline git pull origin blog:blog git log --oneline cd D:\\WebSites\\faradays-studio.hexo\\.deploy_git 执行上述过程，如出现 `HEAD detached ` 等报错，注意分支名称实际为 master， 执行 hexo 同步至远程 具体的操作过程： # 从 GitHub 下拉取版本库，确保本地文件为最新 git pull origin blog:blog # 查看更新日志 git log 相关 log 文件使用 VI 的形式打开，因此可以按 shift + G 跳转到底，按 q 退出修改。 # 将需要删除的最早提交的前一次提交，设置为版本基础 git rebase -i 982c78fc82a2a3804233e9ff7ef315fc21dc0822 在弹出文件中，将会展示在该提交之后的每个提交信息 将相关 commit 记录中的 pick 改为 drop，保存即实现本地删除。 出现 `HEAD detached at 982c78f` 报警 # 查看当前分支情况 git branch -a # 将当前分支改名 git branch blog_temp1 blog # 解决由于删除造成的版本 merge 报警 git rm -r about git rm content.json git rebase --continue git commit git push origin blog -f # 合并分支 #git merge blog_temp1 # 重新对 Head 指向 branch（测试表明该步骤不能执行） # git checkout blog # 删除临时的版本 git branch -d blog_temp1 git log --oneline # git pull origin blog:blog 等命令无法对 hexo 的版本库进行更新，因此执行以下操作 # 猜测删除 .deploy_git 文件夹，重新建立版本库理论可行 git rebase -i 982c78fc82a2a3804233e9ff7ef315fc21dc0822 # 查看状态 git status git rm -r about git rm content.json git rebase --continue git log git log --oneline #至此，各个版本完成更新，可以使用 hexo 重新生成一次，确保删除的文件被生成 hexo -d g # 查看本地版本日志 git log --oneline # 解决由于前边删除文件导致的版本文件数量不一致的问题 git pull -r # 下载网络更新到本地 git pull origin blog:blog # 检查更新情况后的版本日志 git log --oneline 研究总结独立页的功能测试 测试表明，独立页面使用 hexo 内置的渲染有以下特点（.md 文件直接放相应的目录下，不做任何特殊处理，系统原生使用 layout: page 渲染）： 不支持标签、分类。 生成的 .HTML 名称是 .md 文件名，与默认的 _post 目录下的文件按项目配置文件 _config.yml 中定义的 permalink 格式是有明显区别的。 相关页面不会被索引到首页、归档页，也不会进入使用 site.posts 循环读取的时间轴页上。 个人感觉：使用 hexo 的 Front-matter 指定的标题样式比使用 h1 配置要合适一点（因为默认的 h1 渲染出来的文字太大了！！！） 独立页面中的链接的 .html 扩展名不能删除，也不会被裁减。 在页面中定义 permalink 、 path 等均毫无意义，独立页仍然使用 :title（文件名）.html 作为连接名（实际上，个人还是喜欢这种形式的链接，名称固定，一目了然，而且只要不放出来，别人就不一定能够猜出来）"},{"title":"网站设计的笔记","date":"2020-08-28T14:01:09.790Z","updated":"2020-08-28T14:01:09.790Z","comments":true,"path":"about/hide.html","permalink":"https://faradays-studio.gitee.io/about/hide.html","excerpt":"","text":"本文件内容不对外开放！！！ hexo-theme-faradays 开发笔记"},{"title":"About me 关于我","date":"2020-08-23T01:11:19.000Z","updated":"2020-08-28T14:01:04.794Z","comments":true,"path":"about/index.html","permalink":"https://faradays-studio.gitee.io/about/index.html","excerpt":"","text":"Faradays’ Studio 是我的虚拟工作室。斯是陋室，惟吾德馨。 由于 GitHub 访问速度原因，增加 https://faradays-studio.gitee.io/ 作为备用站点。 GitHub wiki 首页 https://github.com/faradays-studio/faradays-studio.github.io/wiki/Home-%E9%A6%96%E9%A1%B5 产品变更说明hexo 项目 hexo-faradays 项目记录"},{"title":"TimeLine","date":"2020-08-12T15:19:40.000Z","updated":"2020-08-23T02:33:24.538Z","comments":true,"path":"timeline/index.html","permalink":"https://faradays-studio.gitee.io/timeline/index.html","excerpt":"","text":"时间轴"},{"title":"hexo-theme-faradays 开发笔记","date":"2020-08-28T14:48:29.908Z","updated":"2020-08-28T14:48:29.908Z","comments":true,"path":"about/hidden-change_log-hexo-faradays.html","permalink":"https://faradays-studio.gitee.io/about/hidden-change_log-hexo-faradays.html","excerpt":"","text":"项目概要 创建于: 2020/07/05 08:23:50 0.0.0 更新于: 2020/08/26 00:10:41 0.1.x 项目名称： Faradays 〔Ocean〕 设计理念：立足现在，放眼未来。 许可协议：请遵守 APGLv3 协议，侵权必究！ Licensed under GNU APGLv3. You may send your request to imhhj@vip.qq.com and wait for your License Confirmation email. See https://www.gnu.org/licenses/agpl-3.0.html or https://choosealicense.com/licenses/agpl-3.0/ for the license details. TO-DO 实现以下功能 卡片式设计，标题和内容摘要支持大范围点击跳转； 文章支持动态目录功能 定制页面内容 打赏图片一次显示，无须切换 增加原创字段 original，并展示在页面中 大封面，下方含有标签跳转链接（需要统一文字大小） 归档页、时间轴增加固定的顶部菜单（便于跳转返回） 支持 gittalk 评论系统 时间轴按同一年分组倒序排列，而不被拆分为多组来排序 增加 QQ 聊天功能 多作者模式，并增加作者个人主页的跳转链接 增加编辑说明（设定专用样式？如何调用？放在标题区？） 完善自动配色体系，实现白天、夜晚模式切换 不蒜子导致网站页面载出时间较长 增加页面加载时间 增加背景音乐功能 主动推送至百度 标签云页，如能做到标签按数量自动排序更好； 增加图床功能 自动初始化Gitalk评论 参考 3-hexo ，实现基于作者进行检索的功能 完善 Faradays 主题 梳理文件结构，分开设置 post、page 的布局样式 研究 page 生成目录的方法（目前只能手动添加） 增加按钮切换主题色、网页内容等的方法 完善主题文档，做好开源准备 兼容 IE，并弹出浏览器版本兼容提示 更新日志0.1.6，2.68h，2020/08/28 21:53:13 增加站点地图（sitemap）功能，以便于搜索引擎收录博客文章： 安装相关插件： npm install hexo-generator-sitemap --save npm install hexo-generator-baidu-sitemap --save npm audit fix --force themes\\faradays\\_config.yml 添加以下内容： # 自动生成sitemap sitemap: path: sitemap.xml baidusitemap: path: baidusitemap.xml 修改 scaffolds\\post.md ，增加 keywords 文件头： keywords: Faradays&#39; Studio, 测试 网页关键词的格式：批处理,Windows,字符。 修改 themes\\faradays\\layout\\_partial\\head.ejs 修改默认的关键词： &lt;!-- HHJ@20200828，HTML 默认关键词由 _config.yml 配置改为优先使用文章文件头 keywords 配置 --&gt; &lt;% if (page.keywords)&#123; %&gt; &lt;meta name=&quot;keywords&quot; content=&quot;&lt;%= page.keywords %&gt;,Faradays&#39; Studio&quot;&gt; &lt;% &#125; else if (page.tags &amp;&amp; page.tags.length)&#123; %&gt; &lt;% var kw1 = &#39;&#39; %&gt; &lt;% page.tags.forEach(function (tag, kx) &#123; %&gt; &lt;% if (kx==1)&#123; %&gt; &lt;%- kw1 = trim(tag.name) %&gt; &lt;% &#125; else &#123; %&gt; &lt;% kw1 = kw1 + &#39;,&#39; + tag.name %&gt; &lt;% &#125;%&gt; &lt;% &#125;) %&gt; &lt;meta name=&quot;keywords&quot; content=&quot;&lt;%= kw1 %&gt;,Faradays&#39; Studio&quot;&gt; &lt;% &#125; else if (theme.keywords)&#123; %&gt; &lt;meta name=&quot;keywords&quot; content=&quot;&lt;%- theme.keywords %&gt;&quot; /&gt; &lt;% &#125; else if (config.keywords)&#123; %&gt; &lt;meta name=&quot;keywords&quot; content=&quot;&lt;%= config.keywords %&gt;&quot;&gt; &lt;% &#125; %&gt; 关键词的用法： keywords的每个词都要能在内容中找到相应匹配，才有利于排名。keywords一般不超过3个，每个关键词不宜过长，而且词语间要用英文“,”隔开。为什么用英文上文已经说过。而且，尽量将重要的关键字靠前放，因为靠后的关键字排名较差，除非你站有很高的权重。 用法：&lt;meta name=”Keywords” Content=”关键词1,关键词2,关键词3,关键词4″&gt; 1）首页keywords写法，一般是“网站名称,主要栏目名,主要关键词”。 2）栏目页keywords写法，一般是“栏目名称,栏目关键字,栏目分类列表名称”。 3）分类列表页keywords写法，这个就比较简单了，只要将你这个栏目中的主要关键字写入即可。 4）文章页keywords写法，建议大家提取文章中的关键词，比如我的文章主要是讲SEO优化的，那么我关键词肯定是SEO优化，如果你觉得你提取关键词的能力较差，也可以选择文章中出现比较多的词来作为关键词，比如我现在写的内容是关于title、keywords、description的，那我的文章页关键词就是这3个。 提示根目录的 _config.yml 中的 use_date_for_updated 需要使用 updated_option 来替代。为了便于部署，调整到 themes\\faradays\\_config.yml，内容变更如下： ## Use post&#39;s date for updated date unless set in front-matter #use_date_for_updated: false updated_option: &#39;mtime&#39; # * mtime: file modification date (default) # * date: use_date_for_updated # * empty: no more update 注册百度站长平台，并进行适配： https://faradays-studio.gitee.io/sitemap.xml https://faradays-studio.gitee.io/baidusitemap.xml 增加 baidu_verify_H4oRq5obf8.html 到 source 目录，并增加到 _config.yml 中的 skip_render 参数中（注意摆放顺序）。 测试表明，如果不同步 wiki 信息，码云从 GitHub 中同步版本库只需要很短的数秒钟。 修改 _config.yml 中的 url 参数值，不再使用 GitHub 网站，而是使用 gitee 网站，确保访问质量和收录效果。 适当调整文章署名区空白格式。涉及 themes\\faradays\\source\\css\\_partial\\article.styl 和 themes\\faradays\\layout\\_partial\\post\\copyright.ejs 文件修改。 由于 GitHub Page 访问速度实在太慢，基于 https://faradays-studio.gitee.io 网址对每个文章增加后备链接。 修改 themes\\faradays\\layout\\_partial\\post\\copyright.ejs 如下： &lt;!-- HHJ@20200828，调整原始链接显示方式，并增加备用链接 --&gt; &lt;p&gt;原始链接： &lt;% if (theme.site.main &amp;&amp; theme.site.main.length)&#123; %&gt; &lt;a class=&quot;post-url&quot; href=&quot;&lt;%- theme.site.main %&gt;&lt;%- url_for(post.path) %&gt;&quot; title=&quot;&lt;%= post.title %&gt;&quot;&gt; &lt;%- theme.site.main %&gt;&lt;%- url_for(post.path) %&gt; &lt;/a&gt; &lt;% &#125; else &#123; %&gt; &lt;a class=&quot;post-url&quot; href=&quot;&lt;%- url_for(post.path) %&gt;&quot; title=&quot;&lt;%= post.title %&gt;&quot;&gt; &lt;%= post.permalink %&gt; &lt;/a&gt; &lt;% &#125; %&gt; &lt;/p&gt; &lt;% if (theme.site.backup &amp;&amp; theme.site.backup.length)&#123; %&gt; &lt;p&gt;后备链接： &lt;a class=&quot;post-url&quot; href=&quot;&lt;%- theme.site.backup %&gt;&lt;%- url_for(post.path) %&gt;&quot; title=&quot;&lt;%= post.title %&gt;&quot;&gt; &lt;%- theme.site.backup %&gt;&lt;%- url_for(post.path) %&gt;&lt;/a&gt; &lt;/p&gt; &lt;% &#125; %&gt; 对应地，themes\\faradays\\_config.yml 增加以下设置： site: #main: main: https://faradays-studio.github.io backup: https://faradays-studio.gitee.io 0.1.5，16.13h，2020/08/25 23:35:01 创建关于页面 创建新页面： hexo new page about 。 头部不指定 layout 参数，则使用默认的 page.ejs 布局，但是没有保留标题样式。 需要修改文本存储格式为 UTF-8 ，否则编译后文本乱码。 修改 title ，使得文本中显示标题文本与实际相符。 修改 themes\\faradays\\layout\\layout.ejs ，对原有文章添加固定标题样式的地方，增加独立页面的设置（确保拥有固定标题）。 &lt;% if (is_post() || is_page())&#123; %&gt; 上述设置为公共设置，而归档页、时间轴均为独立设置的布局样式，因此其固定的标题，也同样是在对应的布局文件 themes\\faradays\\layout\\_partial\\timeline.ejs、themes\\faradays\\layout\\_partial\\archive.ejs 中添加 _partial/header-post 文件的引用的. 修改 themes\\faradays\\layout\\_partial\\after-footer-more.ejs，增加 || is_page() ，确保页面导航 tocbot 显示正常、并增加了评论功能；同时为了确保统一，对 themes\\faradays\\layout\\_partial\\article.ejs 也做相应的增加（效果不明，增加 post-content 来设置 background: #fff ？）。 themes\\faradays\\layout\\_partial\\after-footer-more.ejs 文件编码修改为 UTF-8，避免 GitHub 中创建的 gitalk 评论标签乱码。 同步完善 scaffolds\\page.md，包括增加头部参数和文件编码由 ANSI 修改为 UTF （Npp:Encoding&gt;Convert to UTF-8）。 完善首页社交图标设置，增加 gitee 图标。 修改 themes\\faradays\\source\\css\\_partial\\post.styl，修改标题文字颜色和行距： .post-title //color: #555 //background: main-color // HHJ@20200823 color: main-color line-height: 1.3em 添加QQ 联系等快捷方式，参考 themes\\3-hexo\\layout\\_partial\\nav-left.ejs 创建 themes\\faradays\\layout\\_partial\\post\\contact.ejs 文件，内容如下： &lt;!-- HHJ@20200823，增加联系方式图标 --&gt; &lt;div class=&quot;page-contact&quot;&gt; &lt;% if (theme.contact_with.qq &amp;&amp; theme.contact_with.qq.length ) &#123; %&gt; &lt;a title=&quot;QQ联系博主&quot; href=&quot;http://wpa.qq.com/msgrd?v=3&amp;uin=&lt;%= theme.contact_with.qq %&gt;&amp;site=qq&amp;menu=yes&quot; target=&quot;_blank&quot;&gt; &lt;i class=&quot;fa fa-qq&quot;&gt;&lt;/i&gt; &lt;/a&gt; &lt;% &#125; %&gt; &lt;% if (theme.contact_with.email &amp;&amp; theme.contact_with.email.length ) &#123; %&gt; &lt;a title=&quot;邮件联系博主&quot; href=&quot;mailto:&lt;%= theme.contact_with.email %&gt;&quot; target=&quot;_blank&quot;&gt; &lt;i class=&quot;fa fa-envelope&quot;&gt;&lt;/i&gt; &lt;/a&gt; &lt;% &#125; %&gt; &lt;/div&gt; 修改 themes\\faradays\\layout\\_partial\\article.ejs ，将 contact.ejs 引入 &lt;!-- HHJ@20200823，增加联系方式图标 --&gt; &lt;%- partial(&#39;post/contact&#39;) %&gt; 修改 themes\\faradays\\_config.yml ，增加以下参数： contact_with: qq: 189392385 email: yvany@qq.com 参考 page-reward 格式设置 page-contact 格式： 新建 themes\\faradays\\source\\css\\_partial\\contact.styl 文件； // HHJ@20200823 .page-contact margin: 20px 7% text-align: center position: absolute top: -41px z-index: 3 a position: relative width: 37px height: 37px line-height: 37px font-size: 20px color: #fff!important text-align: center border-radius: 50% display: inline-block background: main-color text-decoration: none boxShadow(.3s) &amp;:hover, &amp;:active color: #fff text-decoration: none!important 将上述 contact.styl 文件导入 themes\\faradays\\source\\css\\style.styl : // HHJ@20200823，增加 @import &quot;_partial/contact&quot; 调整 themes\\faradays\\layout\\_partial\\article.ejs，增加 style 设置，避免上下两行内容过于拥挤（太大的话，手机模式 display: none 则显得下方空白太大）： &lt;ul class=&quot;article-footer-menu&quot; style=&quot;margin-top:10px;&quot;&gt; 需要注意的是，如果 ejs 文件编程错误，比如说括号匹配等问题，可能会导致编译时出现奇怪的报错。因此新增 ejs 文件时需要先改好脚本文件。 进行 about 独立页中内容的渲染研究： 测试 post 生成的要求：不能含有 tag 等头部参数。 测试独立页的 URL 格式：不由项目的配置文件控制，为 &lt;文件名&gt;.html ，注意，必须含有 html 扩展。 测试项目 _config.yml 文件增加 git 更新说明和过滤以 hid 开头的 .html 文件（hid.*\\.html）功能。 该功能可以保留部分个人信息，避免被上传至网络上！ 配置 hide.html 为索引文件，hidden-change_log-hexo-faradays.html 为主题开发笔记。 经过 2 天的反复试验，终于将可能泄露独立页网址的 commit 予以删除。 隐藏网页的访问示例： http://127.0.0.3:4000/about/hide.html。 修改标题的感应样式（之前为字距变宽，改为背景变色），涉及 #site-title 、#header-menu-nav 样式。 background-color: color-link 经过网络调查，未找到配置多作者的案例，唯一设计多作者的是 3-hexo 主题，然后都只是单纯地读取作者显示，特色功能是按作者检索；而自己初步规划的方法设计到动态变量，实现也有一定的难度。综合研究采取文件头多属性来实现： 逻辑：那么 若 0 &lt; post.original &lt; 50，显示 author1 、author2 、author3 为 编者 （拍后）， author_x 为 作者（若存在）；若 post.original ≥ 50，author1 、author2 、author3为作者（排前）。 文章的作者的填写方法（author1 无论如何都存在，author2、author3等注册作者内容随意填写，而贡献作者要以类似 tag 的方式填写）： author2: 2 author3: author_x: - [&#39;Bat Man&#39;, &#39;https://faradays-studio.github.io/&#39;] - [&#39;Iron Man&#39;, &#39;https://faradays-studio.github.io/&#39;] 修改 themes\\faradays\\_config.yml ，增加以下内容： # HHJ@20200815 author1: uid: 1 name: David Faraday url: https://faradays-studio.github.io/ author2: uid: 2 name: Superman url: https://faradays-studio.github.io/ author3: uid: 98 name: Captain America url: https://faradays-studio.github.io/ themes\\faradays\\layout\\_partial\\post\\title.ejs 设置如下： &lt;!-- HHJ@20200825，多作者模式 --&gt; &lt;li class=&quot;faradays-author&quot;&gt; &lt;i class=&quot;fa fa-user-o&quot;&gt;&lt;/i&gt; &lt;% if (page.original &amp;&amp; page.original.length)&#123; %&gt; &lt;% var o = parseInt(page.original) %&gt; &lt;% if (o &gt; 0 &amp;&amp; o &lt;50 )&#123; %&gt; &lt;% if (post.author_x &amp;&amp; post.author_x.length)&#123; %&gt; &lt;% post.author_x.forEach(function (au, ix) &#123; %&gt; &lt;% if (ix == 1)&#123; %&gt; &lt;a href=&quot;&lt;%= au[1] %&gt;&quot;&gt;&lt;%= au[0] %&gt;&lt;/a&gt; &lt;% &#125; else &#123; %&gt; , &lt;a href=&quot;&lt;%= au[1] %&gt;&quot;&gt;&lt;%= au[0] %&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;% &#125;) %&gt; &lt;% &#125; %&gt; , &lt;a href=&quot;&lt;%- theme.author1.url %&gt;&quot;&gt;&lt;%- theme.author1.name %&gt;&lt;/a&gt; &lt;% if (post.author2 &amp;&amp; !post.author2.length)&#123; %&gt; , &lt;a href=&quot;&lt;%- theme.author2.url %&gt;&quot;&gt;&lt;%- theme.author2.name %&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;% if (post.author3 &amp;&amp; !post.author3.length)&#123; %&gt; , &lt;a href=&quot;&lt;%- theme.author3.url %&gt;&quot;&gt;&lt;%- theme.author3.name %&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;% &#125; else &#123; %&gt; &lt;a href=&quot;&lt;%- theme.author1.url %&gt;&quot;&gt;&lt;%- theme.author1.name %&gt;&lt;/a&gt; &lt;% if (post.author2 &amp;&amp; !post.author2.length)&#123; %&gt; , &lt;a href=&quot;&lt;%- theme.author2.url %&gt;&quot;&gt;&lt;%- theme.author2.name %&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;% if (post.author3 &amp;&amp; !post.author3.length)&#123; %&gt; , &lt;a href=&quot;&lt;%- theme.author3.url %&gt;&quot;&gt;&lt;%- theme.author3.name %&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;% if (post.author_x &amp;&amp; post.author_x.length)&#123; %&gt; &lt;% post.author_x.forEach(function (au, ix) &#123; %&gt; , &lt;a href=&quot;&lt;%= au[1] %&gt;&quot;&gt;&lt;%= au[0] %&gt;&lt;/a&gt; &lt;% &#125;) %&gt; &lt;% &#125; %&gt; &lt;% &#125; %&gt; &lt;% &#125; else &#123; %&gt; &lt;a href=&quot;&lt;%- theme.author1.url %&gt;&quot;&gt;&lt;%- theme.author1.name %&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;/li&gt; themes\\faradays\\layout\\_partial\\post\\copyright.ejs，同步进行修改。 &lt;p&gt;作者： &lt;% var au_num = 0 %&gt; &lt;% if (page.original &amp;&amp; page.original.length &amp;&amp; parseInt(page.original)&gt;=35 )&#123; %&gt; &lt;% au_num = au_num + 1 %&gt; &lt;a href=&quot;&lt;%- theme.author1.url %&gt;&quot;&gt;&lt;%- theme.author1.name %&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;% if (post.author_x &amp;&amp; post.author_x.length)&#123; %&gt; &lt;% post.author_x.forEach(function (au, ix) &#123; %&gt; &lt;% au_num = au_num + 1 %&gt; &lt;% if (au_num &gt; 1)&#123; %&gt; , &lt;% &#125; %&gt; &lt;a href=&quot;&lt;%= au[1] %&gt;&quot;&gt;&lt;%= au[0] %&gt;&lt;/a&gt; &lt;% &#125;) %&gt; &lt;% &#125; %&gt; &lt;% if (post.author2 &amp;&amp; !post.author2.length)&#123; %&gt; &lt;% au_num = au_num + 1 %&gt; &lt;% if (au_num &gt; 1)&#123; %&gt; , &lt;% &#125; %&gt; &lt;a href=&quot;&lt;%- theme.author2.url %&gt;&quot;&gt;&lt;%- theme.author2.name %&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;% if (post.author3 &amp;&amp; !post.author3.length)&#123; %&gt; &lt;% au_num = au_num + 1 %&gt; &lt;% if (au_num &gt; 1)&#123; %&gt; , &lt;% &#125; %&gt; &lt;a href=&quot;&lt;%- theme.author3.url %&gt;&quot;&gt;&lt;%- theme.author3.name %&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;/p&gt; &lt;% if (page.original &amp;&amp; page.original.length &amp;&amp; parseInt(page.original)&lt;35 )&#123; %&gt; &lt;p&gt;编者： &lt;a href=&quot;&lt;%- theme.author1.url %&gt;&quot;&gt;&lt;%- theme.author1.name %&gt;&lt;/a&gt; &lt;/p&gt; &lt;% &#125; %&gt; 0.1.4，16.2h，2020-08-23 01:18:29 修改 themes\\faradays\\source\\css\\_partial\\header.styl ，调整导航栏图标位置（暂无较好处理方法）： .header-menu-container // HHJ@20200821 //max-width: 1100px //margin: 0 auto margin: 0 2% 0 2% 增加代码高亮功能： 在 https://github.com/highlightjs/highlight.js/releases 下载相关文件； 在 themes\\faradays\\source\\js 增加 highlight.min.js 在 themes\\faradays\\source\\css 路径增加 github.min.css （themes\\faradays\\source\\css\\style.styl 文件中本来也引入了 highlight.styl 样式文件） 在 themes\\faradays\\layout\\_partial\\head.ejs 增加以下代码，引入 highlight 相关样式和脚本文件（注意路径的表述方法，后续已迁移至 head-more.ejs 文件中）： &lt;!-- HHJ@20200821 --&gt; &lt;!-- HHJ@20200821 --&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; href=&quot;//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css&quot;&gt; --&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/github.min.css&quot;&gt; &lt;!-- &lt;%- css(&#39;css/github.min.css&#39;) %&gt; --&gt; &lt;!-- &lt;script src=&quot;//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js&quot;&gt;&lt;/script&gt; --&gt; 修改 themes\\faradays\\layout\\layout.ejs ，参考 after-footer.ejs 的引入方法引入 after-footer-more.ejs 布局文件： &lt;%- partial(&#39;_partial/after-footer-more&#39;) %&gt; 在 themes\\faradays\\layout\\ 路径下增加 after-footer-more.ejs 文件，并将文章导航 tocbot（从 after-footer.ejs 迁移过来）、代码高亮 highlight 相关内容设置在此文件中。 经测试，themes\\faradays\\source\\css\\_partial\\highlight.styl 、themes\\faradays\\source\\css\\github.min.css 配合使用效果较好，已修改部分颜色及行距。 修改 themes\\faradays\\layout\\_partial\\post\\copyright.ejs 文件，对原创指数大于 50% 的才显示为作者及许可协议： &amp;&amp; parseInt(page.original)&gt;50 时间轴、归档页增加置顶菜单，便于跳转返回首页。themes\\faradays\\layout\\_partial\\timeline.ejs、themes\\faradays\\layout\\_partial\\archive.ejs 同时增加以下内容： &lt;!-- HHJ@20200821 --&gt; &lt;%- partial(&#39;header-post&#39;) %&gt; 并对 themes\\faradays\\layout\\after-footer-more.ejs 文件的 ! is_home() 判断修改为 is_post() ，避免目录导航 class 未找到报警。 增加 gittalk 评论系统的支持： 访问 https://github.com/settings/applications/new 注册账户（位于 GitHub &gt; Settings &gt; Developer settings ）， Client ID: 90b449ff273a263117ec Client Secret: 0a3ccea67a4d3f03cbff012eeac1a8547e367aad 修改 themes\\faradays\\layout\\_partial\\article.ejs ，增加评论布局文件的引用 &lt;% &#125; else if (theme.gitalk.owner) &#123; %&gt; &lt;%- partial(&#39;plugins/comments/gitalk&#39;) %&gt; npm i --save gitalk，并在 themes\\faradays\\layout\\head-more.ejs 中增加相应的引入文件 import &#39;gitalk/dist/gitalk.css&#39; import Gitalk from &#39;gitalk&#39; 新建 themes\\faradays\\layout\\_partial\\plugins\\comments\\gitalk.ejs 文件，设置 div 元素。 对 themes\\faradays\\layout\\after-footer-more.ejs 文件，增加脚本内容。 &lt;script&gt; // HHJ@20200822 const gitalk = new Gitalk(&#123; clientID: &#39;&lt;%- theme.gitalk.client_id %&gt;&#39;, clientSecret: &#39;&lt;%- theme.gitalk.client_secret %&gt;&#39;, repo: &#39;&lt;%- theme.gitalk.repo %&gt;&#39;, // The repository of store comments, owner: &#39;&lt;%- theme.gitalk.owner %&gt;&#39;, admin: [&#39;&lt;%- theme.gitalk.owner %&gt;&#39;], id: (location.pathname).substring(0,49), // Ensure uniqueness and length less than 50 distractionFreeMode: false // Facebook-like distraction free mode &#125;) gitalk.render(&#39;gitalk-container&#39;) &lt;/script&gt; 经过2天来回测试，终于完成，本地测试无法显示（报错信息为 Error: Network Error），不过部署到 GitHub 上后可以进行评论。当然，每个文章都需要作者进行初始化点击才能评论。 增加文章页中，作者增加感应高亮显示功能： themes\\faradays\\layout\\_partial\\post\\title.ejs 对作者标签增加 class 值 &lt;li class=&quot;faradays-author&quot;&gt; themes\\faradays\\source\\css\\style.styl 增加感应变色样式 .faradays-author /*HHJ@20200822，设置感应后发射光线*/ &amp;:hover //background-color: #4cc9f0 background-color: main-color color: white // 颜色与背景色一致 -webkit-box-shadow: 10px 10px 99px 6px rgba(255,165,0,1) -moz-box-shadow: 10px 10px 99px 6px rgba(255,165,0,1) box-shadow: 10px 10px 99px 6px rgba(255,165,0,1) 优化完善时间轴功能 修改 themes\\faradays\\layout\\_partial\\timeline.ejs，修复时间轴功能排序随机导致同一年的文章被多次拆分的情况（内置的排序方法确实非常的便利）。 &lt;% var posts_fs = site.posts.sort(&#39;-date&#39;); %&gt; &lt;% posts_fs.each(function(post, i)&#123; %&gt; 修改 themes\\faradays\\layout\\_partial\\timeline.ejs，增加数字显示的标签 &lt;div class=&quot;timeline2-num&quot;&gt;&lt;%= (site.posts.length -i) %&gt;&lt;/div&gt; 修改 themes\\faradays\\source\\css\\timeline.styl ，增加相应的数字样式： ``` CSS .timeline2-article-date .timeline2-num display table-cell //display inline-block position absolute //color #222 text-align center vertical-align center top 50% width 2rem left -3.5rem ``` 增加限定条件，确保“存档”字眼不出现在首页，themes\\faradays\\layout\\_partial\\archive.ejs &lt;% if (! is_home())&#123; %&gt; &lt;div style=&quot;font-size:37px; text-align:center;padding-top:47px;&quot;&gt;&lt;%- theme.desc.archive %&gt;&lt;/div&gt; &lt;% &#125; %&gt; 修改 themes\\faradays\\layout\\_partial\\archive.ejs 增加 post_num 参数用做数字显示，并增加 div 标签： &lt;% page.posts.each(function(post, post_num)&#123; %&gt; &lt;!-- HHJ@20200822 --&gt; &lt;% if ( is_home() )&#123; %&gt; &lt;div class=&quot;article-header-num&quot;&gt;&lt;%- (page.posts.length - post_num) %&gt; &lt;/div&gt; &lt;% &#125; %&gt; themes\\faradays\\source\\css\\_partial\\article.styl 增加数字样式，通过 margin + top 值实现两个 div 平齐显示 .article // HHJ@20200823 //margin: block-margin margin: -(block-margin)*6 0 block-margin background: #fff border-radius: 0 box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2) .article-header-num // HHJ@20200823，数字编号在文章元素的左侧 // 内边距 //padding: (article-padding)*2 // 外边距 margin: article-padding 0 (block-margin)*5 0 position: relative top: (article-padding)*2 left: -1em color: main-color font-size: 3em .article-inner @extend $block overflow: inherit // HHJ@20200823 margin-top: 230px themes\\faradays\\source\\css\\_partial\\mobile.styl 同样修改确保手机样式匹配 .article //margin: 10px 10px margin: -180px 10px 20px 由于涉及 themes\\faradays\\layout\\post.ejs 的兼容性问题，themes\\faradays\\layout\\_partial\\article.ejs 作为公用文件，不再添加 div 标签。 0.1.3，30.09h，2020/08/18 22:23:18 修改 themes\\faradays\\source\\css_partial\\header.styl 的 header-title 的样式，同时对文本进行微小的调整。 调整页脚版本所有人的名称（新增 theme.owner 变量），调整文章的作者名称。 在封面页下方增加标签显示（ themes\\faradays\\layout\\_partial\\header.ejs，themes\\faradays\\source\\css\\_partial\\sidebar.styl ）： 基于 sidebar-menu-box-tags 、 sidebar-menu-box-categories 增加 tags2 、 categories-2 样式。 style内联样式的权值&gt;&gt;ID选择器&gt;&gt;class选择器&gt;&gt;标签选择器 参考 https://hexo.io/zh-cn/docs/helpers#tagcloud 设置标签云格式（默认标签的大小会发生变化，无法通过样式来设置） 增加原创字段 original ，并修改 themes\\faradays\\layout_partial\\post\\title.ejs ，增加以下内容： &lt;!-- HHJ@20200812 --&gt; &lt;li&gt; &lt;% if (page.original &amp;&amp; page.original.length)&#123; %&gt; &lt;i class=&quot;fa fa-copyright&quot;&gt;&lt;/i&gt; &lt;%- page.original %&gt; &lt;% &#125; %&gt; &lt;/li&gt; 同步修改 themes\\faradays\\layout\\_partial\\post\\copyright.ejs 文件，增加版权声明。 参考 https://www.runoob.com/font-awesome/fontawesome-icons-directional.html 修改文章导航的图标， themes\\faradays\\layout\\_partial\\post\\nav.ejs 中 fa-hand-o-left 、fa-hand-o-right 替换为 fa-arrow-circle-left、fa-arrow-alt-circle-right，或 fa-arrow-left、 fa-arrow-right，或 。 修改 themes\\faradays\\_config.yml 中各个栏目的图标名称。 参考 ayer 主题的归档页格式，创建时间轴（时间轴）！ 创建新页面： hexo new page timeline ，并在头部引入 layout : timeline 设定。 设定页面内容：参考 archive.ejs 内容创建 themes\\faradays\\layout\\_partial\\timeline.ejs 文件。 变量 page.posts 修改为 site.posts 。 class 标签的修改: 原始样式 样式1 样式2 archives timeline page-type-title archives-wrap media archive-year-wrap archive-year archives - 设定页面格式：创建 `themes\\faradays\\source\\css\\timeline.styl` 文件，并 `@import &quot;timeline&quot;` 引入 `themes\\faradays\\source\\css\\style.styl` 文件中。经过2天来回反复试验，初步完成时间轴设置。 参考 https://github.com/willin/hexo-wordcount ，增加字数统计功能 npm install hexo-wordcount --save 安装相关插件； 修改 themes\\faradays\\layout_partial\\post\\title.ejs 文件： &lt;!-- HHJ@20200815，增加文章字数统计 --&gt; &lt;ul&gt; &lt;li&gt;&lt;i class=&quot;fa fa-file-word-o&quot;&gt;&lt;/i&gt; &lt;span class=&quot;post-count&quot;&gt;&lt;%= wordcount(post.content) %&gt; words&lt;/span&gt; &lt;/li&gt; &lt;li&gt;&lt;i class=&quot;fa fa-youtube-play&quot;&gt;&lt;/i&gt; &lt;span class=&quot;post-count&quot;&gt;&lt;%= min2read(post.content) %&gt; min&lt;/span&gt; &lt;/li&gt; &lt;/ul&gt; 修改 themes\\faradays\\layout\\_partial\\plugins\\sites\\visit.ejs 文件： &lt;!-- HHJ@20200815，增加站点字数统计 --&gt; &amp;emsp;&lt;%- theme.access_counter.site_words %&gt;&lt;span class=&quot;post-count&quot;&gt;&lt;%= totalcount(site) %&gt;&lt;/span&gt; 修改 themes\\faradays\\_config.yml，增加 access_counter.site_words 参数（写在 ejs 中会出现中文乱码现象）。 增加作者的可选选项 post.author ，如果不设置作者，则为默认作者。同步修改 themes\\faradays\\layout\\_partial\\post\\copyright.ejs 文末作者说明。 调整 URL 格式为 &lt;category&gt;/YYYYMMDDHHMM，暂不考虑保留中文标题形式，因为太长且不直观。 纠正一个文章中调用 2 次不蒜子统计导致后一个不显示的问题（直接删除，因为系统使用 id 标签的方式必须唯一） 修改 themes\\faradays\\layout\\_partial\\archive.ejs ，在文件顶部增加归档页的标题内容： &lt;!-- HHJ@20200817 --&gt; &lt;div style=&quot;font-size:37px; text-align:center;padding-top:0.7%;&quot;&gt;&lt;%- theme.desc.archive %&gt;&lt;/div&gt; 0.1.2，7.70h，2020/08/07 00:07:27 修改 themes\\faradays\\layout_partial\\article.ejs，删除 &lt;div class=&quot;article-img&quot;&gt; ... &lt;/div&gt; 去除首页文章的封面图，并调整文字内容增加跳转链接（并去除下划线效果）； &lt;!-- HHJ@20200805 --&gt; &lt;div class=&quot;article-feed&quot;&gt; &lt;p&gt; &lt;a href=&quot;&lt;%- url_for(post.path) %&gt;&quot; &lt;% if (theme.open_new_link) &#123;%&gt; target=&quot;_blank&quot; &lt;% &#125; %&gt; style=&quot;text-decoration: none;&quot; &gt; &lt;%- post.excerpt ? post.excerpt : truncate(strip_html(post.content), &#123; length: theme.excerpt_length &#125;) %&gt; &lt;/a&gt; &lt;/p&gt; &lt;/div&gt; 修改 themes\\faradays\\source\\css_partial\\article.styl ，去除左侧为封面预留的空间，如下： .article-feed /* HHJ@20200719 */ /* margin-left: 320px */ /* 上、右、下、左 */ margin: 3px 6px 3px 6px 修改 themes\\faradays\\_config.yml 中 excerpt_length 值，由 190 修改为 288 。 为完善文章导航标题高亮效果、解决标题导航时被遮挡问题，修改如下： &lt;script&gt; tocbot.init(&#123; scrollSmooth: true, // 点击目录时，页面下移一定距离（避免固定顶部的菜单遮盖），单位为 px scrollSmoothOffset: -44, // 避免高亮显示不当 headingsOffset: 47, &#125;); &lt;/script&gt; 由于去除了文章的封面，因此文章的导航应该提前出现： showToc: function (scrollTop) &#123; //if (scrollTop / clientHeight &gt;= 0.4) &#123; //if (scrollTop / clientHeight &gt;= 0.1) &#123; if (scrollTop &gt;= 90) &#123; toc.removeClass(&quot;post-toc-top&quot;); toc.addClass(&quot;post-toc-not-top&quot;); &#125; else &#123; toc.removeClass(&quot;post-toc-not-top&quot;); toc.addClass(&quot;post-toc-top&quot;); &#125; &#125;, 测试表明上述修改已经及时生成相应的 class，但是相应的内容仍不显示。 为使得右侧的置顶图标尽早出现（超过标题栏）， themes\\faradays\\source\\js\\main.js 设置如下： showBackTop: function (scrollTop) &#123; //backTop.css(&#39;display&#39;, (scrollTop &gt; clientHeight) ? &quot;block&quot; : &quot;none&quot;); backTop.css(&#39;display&#39;, (scrollTop &gt; 90) ? &quot;block&quot; : &quot;none&quot;); &#125;, 为了确保 tocbot 尽早展现目录，修改 themes\\faradays\\source\\css\\tocbot.styl 如下： .tocbot // HHJ@20200806 //top 350px top 35px 优化打赏样式 修改 themes\\faradays\\source\\css_partial\\reward.styl ，调整显示宽度： .reward-lay // HHJ@20200806 //width: 360px width: 660px .reward-code // HHJ@20200806 //width: 200px 修改 themes\\faradays\\layout_partial\\post\\reward.ejs ，设置图片并排显示： &lt;div class=&quot;reward-content&quot;&gt; &lt;div class=&quot;reward-code&quot;&gt; &lt;!-- HHJ@20200806 ，取消图片预览，且两个图片同时显示，减少操作--&gt; &lt;table style=&quot;float:center; margin:auto;&quot;&gt;&lt;tr&gt; &lt;td&gt;&lt;img src=&quot;&lt;%- url_for(&#39;images/微信-收款码.jpg&#39;) %&gt;&quot; alt=&quot;微信&quot; border=0&gt;&lt;/td&gt; &lt;td&gt;&lt;img src=&quot;&lt;%- url_for(&#39;images/支付宝-收款码.jpg&#39;) %&gt;&quot; alt=&quot;支付宝&quot; border=0&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/div&gt; &lt;div class=&quot;reward-select&quot;&gt; &lt;/div&gt; &lt;/div&gt; 将作者标识调整到标题下方： 修改 themes\\faradays\\layout\\_partial\\post\\copyright.ejs ，删除以下内容： &lt;footer&gt; &lt;a href=&quot;&lt;%- config.url %&gt;&quot;&gt; &lt;img src=&quot;&lt;%- url_for(theme.logo) %&gt;&quot; alt=&quot;&lt;%- config.author %&gt;&quot;&gt; &lt;%- config.author %&gt; &lt;/a&gt; &lt;/footer&gt; 修改 themes\\faradays\\_config.yml ，增加: user-logo: images/f1.png 修改 themes\\faradays\\layout_partial\\post\\title.ejs ，增加以下内容： &lt;!-- HHJ@20200806 --&gt; &lt;li&gt; &lt;!-- &lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; --&gt; &lt;a href=&quot;&lt;%- config.url %&gt;&quot;&gt; &lt;img src=&quot;&lt;%- url_for(theme.user-logo) %&gt;&quot; alt=&quot;&lt;%- config.author %&gt;&quot; height=&quot;10&quot; width=&quot;10&quot;&gt; &lt;%- config.author %&gt; &lt;/a&gt; &lt;/li&gt; 调整打赏至分享所在的行： themes\\faradays\\source\\css_partial\\reward.styl : .page-reward margin: 20px 33% text-align: center // HHJ@20200806 position: absolute top: -41px z-index: 3 a // HHJ@20200806 //width: 50px //height: 50px width: 37px height: 37px themes\\faradays\\source\\css_partial\\share.styl : .post-share-fab display: block //width: share-fab-size //height: share-fab-size width: 37px height: 37px line-height: 37px themes\\faradays\\layout_partial\\article.ejs ，将打赏的内容放在分享的内容所在的 footer 中： &lt;footer class=&quot;article-footer&quot;&gt; &lt;!-- HHJ@20200806，调整位置 --&gt; &lt;% if (! index)&#123; %&gt; &lt;%- partial(&#39;post/reward&#39;) %&gt; &lt;% &#125; %&gt; &lt;/footer&gt; 0.1.1，1.5h，2020/07/19 21:00:28 实现主页和文章页横幅格式自定义。检查发现 miho 主题中的封面图使用 themes\\miho\\layout_partial\\header.ejs 来定义，但是只有 themes\\miho\\layout\\layout.ejs 引用了。 &lt;%- partial(&#39;_partial/header&#39;, null, &#123;cache: !config.relative_link&#125;) %&gt; 删除上述代码后，所有的页面都将没有封面图等内容。 根据 oschina 网友 Rain_mei 的文章，is_home（首页）、 is_post（文章）、 is_page（独立页） 等函数可以实现分不同页面设置不同布局。如下： &lt;!-- HHJ@20200719 --&gt; &lt;% if (is_home())&#123; %&gt; &lt;%- partial(&#39;_partial/header&#39;, null, &#123;cache: !config.relative_link&#125;) %&gt; &lt;% &#125; %&gt; &lt;% if (is_post())&#123; %&gt; &lt;%- partial(&#39;_partial/header-post&#39;, null, &#123;cache: !config.relative_link&#125;) %&gt; &lt;% &#125; %&gt; 修改 themes\\miho\\layout\\_partial\\header-post.ejs 外层 class为 header-post ，同步修改 themes\\miho\\source\\css\\_partial\\header.styl 增加 header-post 的样式。 修改 themes\\miho\\source\\css\\_partial\\article.styl ，纠正首页中文章的标签三角形符号颜色未能自定义问题。 .article-header .header-cate &amp;:after /* HHJ@20200719，标签三角形 */ /* border-left: 10px solid #099 */ border-left: 10px solid main-bg-1 实现主题名称自定义，为后续制作个人主题做好准备。 mihoConfig 替换为 WebConfig miho 替换 faradays 0.1.0，&gt;10h，2020/07/19 16:06:36根据对照选型，暂定使用 miho 主题，并根据 ayer 主题进行修改： - 完成封面更换； - 完成页面动态导航菜单的更换； - 调整页面主题色； - 适当调整页面布局及部分元素的颜色； - 更换 logo。 定制 D:\\WebSites\\faradays-studio.hexo\\themes\\ayer\\source 相关内容 \\dist\\main.css 解决标题过长显示不全问题 .cover-inner &#123;position:absolute;top:50%;left:50%;transform:translate(-50%,-100%)&#125; 修改为（后者更好）： .cover-inner &#123;position:absolute;top:30%;left:25%;&#125; .cover-inner &#123;position:absolute; left:0; right:0; top: 37%; bottom:0; margin:auto;&#125; 放大首页的下拉箭头符号，便于点击 .cover-learn-more a&gt;i &#123;font-size:13rem;color:#fff;-webkit-animation:down 1s linear infinite;animation:down 1s linear infinite&#125; 更换logo #logo: /images/ayer-side.svg logo: /images/logo.png 基于 Miho 定制主题 修改 themes\\miho\\source\\css\\\\_variables.styl ，设定主题色调： // Main // 主色调 //main-color = #0cc // 天青色 //main-color = #e23 //红色 main-color = orange 修改 themes\\miho\\layout\\_partial\\header.ejs ，去除顶部浮动效果： &lt;!-- &lt;div id=&quot;header-menu&quot; class=&quot;header-menu-pos animated&quot;&gt; --&gt; &lt;!-- HHJ@20200711 删除动态效果，实现顶部固定效果 --&gt; &lt;div id=&quot;header-menu&quot; class=&quot;header-menu-pos&quot;&gt; 对应地，修改 themes\\miho\\source\\css\\_partial\\header.styl ，设置背景色： .header-menu-pos /* background: none */ /* HHJ@20200711，设置背景色 */ background: main-color 或： background: grey 修改 themes\\miho\\source\\css\\\\_variables.styl ，变更背景图的高度（固定高度）： banner-height = 420px 对应地，修改 themes\\miho\\source\\css\\_partial\\header.styl ，实现自动高度： #header /* HHJ@20200711 */ /* height: banner-height */ /* height: auto */ height: 100% 对应地，修改 themes\\miho\\source\\css\\_partial\\header.styl ，实现垂直居中： /* HHJ@20200711 */ /* padding-top: 50px */ position: relative top: 50% transform: translateY(-50%) 或（测试表明，下述方法更好，因为每个页面的内容高度不同，因此导致其位置不固定） padding-top: calc(32vh - 1em) 修改 themes\\miho\\source\\css\\_partial\\header.styl ，修改标题颜色： #header-title /* HHJ@20200711 */ /* color: #fff */ color: orange #header-description /* HHJ@20200711 */ /* color: #666 */ color: cyan 对应地，修改 themes\\miho\\source\\css\\_partial\\sidebar.styl，避免弹窗被全页背景图遮挡 .sidebar-menu-box /* HHJ@20200712 */ /* overflow: hidden */ z-index: 997 overflow: auto 修改 themes\\miho\\source\\css\\_partial\\sidebar.styl，右侧 sidebar 的浮动位置 /* HHJ@20200711 */ /* right: calc(50% - 525px) */ right: 17px right: 2% 修改 themes\\miho\\source\\css\\_partial\\article.styl ，变更左侧目录导航的位置（配合后续修改宽度）： .post-toc-pos /* HHJ@20200711 */ /* left: calc(50% - 660px) */ //left: 18px left: 1% .post-toc-wrap position: fixed border-radius: 3px /* HHJ@20200711 */ /* width: 200px */ /* max-height: 400px */ /* color: #313131 */ max-width: 15% max-height: 500px color: #111 修改 themes\\miho\\source\\css\\_variables.styl，变更文章的最小宽度： // Layout block-margin = 30px article-padding = 15px mobile-nav-width = 280px // main-column = 9 main-column = 12 sidebar-column = 3 columns = main-column + _sidebar-column 修改 themes\\miho\\source\\css\\style.styl，对文章内容进行整体右侧偏移： .outer clearfix() max-width: (column-width + gutter-width) * columns + gutter-width /* HHJ@20200711，上 右 下 左 按顺时针排序，从右侧浮动、控制左侧空间用于目录 */ /* margin: 0 auto */ margin: 0 7% 0 15% padding: 0 gutter-width 修改 themes\\miho\\layout\\_partial\\post\\reward.ejs ，打赏样式由图片改为文字： &lt;div class=&quot;reward-select&quot;&gt; &lt;% if(wechat) &#123;%&gt; &lt;label class=&quot;reward-select-item checked&quot; data-id=&quot;wechat&quot; data-wechat=&quot;&lt;%- url_for(wechat) %&gt;&quot;&gt;微信 &lt;!-- &lt;img class=&quot;reward-select-item-wechat&quot; src=&quot;&lt;%- url_for(&#39;images/wechat.png&#39;) %&gt;&quot; alt=&quot;微信&quot;&gt; --&gt; &lt;/label&gt; &lt;% &#125; %&gt; &lt;% if(alipay) &#123;%&gt; &lt;label class=&quot;reward-select-item&quot; data-id=&quot;alipay&quot; data-alipay=&quot;&lt;%- url_for(alipay) %&gt;&quot;&gt;支付宝 &lt;!-- HHJ@20200711 ，取消图片预览，采用文字展示--&gt; &lt;!-- &lt;img class=&quot;reward-select-item-alipay&quot; src=&quot;&lt;%- url_for(&#39;images/alipay.png&#39;) %&gt;&quot; alt=&quot;支付宝&quot;&gt; --&gt; &lt;/label&gt; &lt;% &#125; %&gt; &lt;/div&gt; 修改页脚格式 themes\\miho\\layout\\_partial\\footer.ejs 修改 themes\\miho\\source\\css\\_partial\\sidebar.styl，设置搜索框背景色 .search-wrap /* HHJ@20200711 */ /* background: #fff */ /* opacity: 0 */ /* background: #888 */ /* opacity: 0.5 */ background: rgba(0,0,0,0.8) 修改 themes\\miho\\layout\\_partial\\footer.ejs，设置版权声明 修改 themes\\miho\\layout\\_partial\\plugins\\sites\\visit.ejs ，设置访客文字格式 修改 themes\\miho\\source\\css\\_partial\\header.styl ，固定 logo 显示大小，避免导入的图片大小不一 #logo @extend $logo-common img /* HHJ@20200711 */ width: 133px height: 133px 对应修改 themes\\miho\\source\\css\\_partial\\reward.styl ，增加 img 标签格式来设定打赏二维码大小 .reward-content margin: 20px 0 .reward-code width: 200px margin: 0 auto img max-height: 200px vertical-align: middle border: 1 display: inline-block 修改 themes\\miho\\layout\\_partial\\after-footer.ejs ，增加导航目录（miho主题为 post-toc-wrap，ayer 主题为 tocbot ）；以下做法能够添加 div ，但是 css 效果没有设置好 &lt;!-- HHJ@20200719 --&gt; &lt;!-- 设置文章导航 --&gt; &lt;!-- &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js&quot;&gt;&lt;/script&gt; --&gt; &lt;%- js(&#39;/js/tocbot&#39;) %&gt; &lt;div class=&quot;tocbot&quot; style=&quot;position:absolute;left:10px;top:350px;max-width:230px;max-height:300px;border-radius:3px;line-height:23px;background:rgba(88, 88, 88, 0)&quot;&gt;&lt;/div&gt; &lt;script&gt; // Tocbo http://tscanlin.github.io/tocbot/ tocbot.init(&#123; tocSelector: &#39;.tocbot&#39;, contentSelector: &#39;.article-inner&#39;, headingSelector: &#39;h1, h2, h3, h4, h5, h6&#39;, hasInnerContainers: true, scrollSmooth: true, scrollContainer: &#39;main&#39;, positionFixedSelector: &#39;.tocbot&#39;, positionFixedClass: &#39;is-position-fixed&#39;, fixedSidebarOffset: &#39;auto&#39; &#125;); &lt;/script&gt; 将 ayer 主题中的 tocbot.styl 导入 themes\\miho\\source\\css 文件夹并修改其颜色设置，同步修改 themes\\miho\\source\\css\\style.styl 文件导入 tocbot 的样式文件： @import &quot;tocbot&quot; 通过修改 themes\\miho\\layout\\_partial\\post\\toc.ejs 文件，从而与 after-footer.ejs 相关 div 的设定匹配，同时修改 tocbot.styl 样式。"}],"posts":[{"title":"苹果 Macbook Pro 笔记本从 U 盘启动以及重置开机密码的方法","slug":"苹果MacbookPro笔记本U盘启动与重置开机密码的方法","date":"2020-08-27T13:41:35.000Z","updated":"2020-08-28T12:28:31.705Z","comments":true,"path":"202008272141/","link":"","permalink":"https://faradays-studio.gitee.io/202008272141/","excerpt":"","text":"前几天，有位老领导委托我对其苹果 Macbook Pro 2018 笔记本进行优化处理。由于网上的资料比较零散、挂一漏万，因此我也来总结一下操作经验。 配置 U盘启动或者切换系统的方法 Macbook 没有 BISO 等设置，所谓的进入 U盘 PE 或者切换双系统的方法是：按住 Option 键，然后按电源键开机，那么就会出现一个类似于 Windows 启动项的界面，从而用于实现改变启动方式的效果。 苹果电脑安装 Windows 系统，一般都是通过 Boot Camp 等软件来实现。对于双系统的主机，也可以在 Windows 系统中输入 “恢复” 找到相应的菜单进入切换启动盘的功能，不过具体功能我没有完整测试。 有意思的是，进入 MacOS 的启动方式选择界面后，如果接入 U盘 PE，那么也能很快识别出来；跟我之前在 BISO 里边配置 U盘启动需要提前接入还是有明显差别的。 Macbook 重置密码的方法结合网络资料测试了一下，操作流程如下： 按住 Option 键，然后按电源键开机； 按方向键选择 Macintosh （苹果） 系统，按 Command + r 后自动进入系统恢复界面； 在经历进度条界面一会后，选择界面的操作语言后，出现以下界面，执行菜单命令 使用工具→终端 ，弹出终端界面： 在终端中执行 resetpassword ，在弹窗中选择需要重置的用户名，并填入新密码，然后存储到系统即可完成修改。 完成修改后重新使用第 1 步的方法进入苹果系统，在登入后可能会提示钥匙串密码是否修改等内容，我选择了修改成一致后，重复登录检查账户使用正常。 需要注意的是，上述方法仅应使用在合法授权的电脑上，请勿滥用！践行社会主义核心价值观，人人有责！ 版本说明参考文献 学知网.苹果笔记本进入BIOS设置教程[EB/OL].https://www.jmqz1000.com/dnzs/23488.html, 2020/08/24. 变更说明 1.0.0，2020/08/27 22:29:16，初始版本。 1.0.1，2020/08/28 18:11:26，重新组织语言，去除一些自以为是的废话。","categories":[{"name":"电脑爱好者","slug":"电脑爱好者","permalink":"https://faradays-studio.gitee.io/categories/%E7%94%B5%E8%84%91%E7%88%B1%E5%A5%BD%E8%80%85/"}],"tags":[{"name":"Apple","slug":"Apple","permalink":"https://faradays-studio.gitee.io/tags/Apple/"},{"name":"Macbook","slug":"Macbook","permalink":"https://faradays-studio.gitee.io/tags/Macbook/"},{"name":"MacOS","slug":"MacOS","permalink":"https://faradays-studio.gitee.io/tags/MacOS/"},{"name":"密码","slug":"密码","permalink":"https://faradays-studio.gitee.io/tags/%E5%AF%86%E7%A0%81/"},{"name":"操作系统","slug":"操作系统","permalink":"https://faradays-studio.gitee.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"PE","slug":"PE","permalink":"https://faradays-studio.gitee.io/tags/PE/"},{"name":"U盘","slug":"U盘","permalink":"https://faradays-studio.gitee.io/tags/U%E7%9B%98/"}]},{"title":"Windows 批处理的字符运算","slug":"Windows批处理的字符运算经验","date":"2020-08-20T01:27:42.000Z","updated":"2020-08-20T01:27:42.000Z","comments":true,"path":"202008200927/","link":"","permalink":"https://faradays-studio.gitee.io/202008200927/","excerpt":"","text":"字符运算历来是编程中的重要内容，如何拼接字符，如何截取字符，如何判断字符是否存在，如何判断两个字符串是否相同，成为了编程任务中的重要环节。因此，我结合网络的资料和个人的实践经验来总结一下。 Windows 批处理中字符的基本常识 批处理中变量的赋值符号两侧不能包含空格，如 set str_date=&#39;20200820&#39;，这与很多编程规范是相悖的。 批处理中的字符可以不添加双引号，但是如果包含空格的话，必须使用引号，，如 set str_name=&quot;20200820 Windows 批处理的字符运算经验总结&quot;。 自定义变量使用 % 来包围来进行引用，即 %变量% ；而 Windows 内置变量（含文件路径变量扩展）则使用 % 符号来引导，即 %内置变量 。 截取字符串一般性的字符截取 基本语法： %**变量名**:~**起点位置**,**截取数量|终点位置**% 起点位置 ：如果为正数，那么就是从左往右截取，而如果为负数，那么就是说从右向左截取；不过无论为正还是为负，截取结果都是不包含处于 起点位置 的那个字符的。 截取数量|终点位置 ：如果为正数，那么就是单纯的 截取数量 ；如果为负数，那么应当表述为 终点位置 ，而且，与 起点位置 对应，截取结果也是不包含该负数所对应的字符的，即上述的 -5 对应的是终点位置为右侧第 6 个字符截止。 举例说明，如下： echo on set ifo=abcdefghijklmnopqrstuvwxyz0123456789 echo %ifo% echo. echo 截取前4个字符：%ifo:~0,4% echo 截取年度：%date:~0,4% echo. echo 截取最后2个字符：%ifo:~-2% echo 截取星期：%date:~-2% echo. echo 截取第一个到倒数第6个字符：%ifo:~0,-5% echo 截取日期（含分隔符）：%date:~0,-3% echo. echo 从第5个字符开始，截取2个字符：%ifo:~4,2% echo 截取月份：%date:~5,2% echo 截取天数：%date:~8,2% echo. echo 从倒数第14个字符开始，截取5个字符：%ifo:~-14,5% echo 截取秒数：%time:~3,2% echo. echo 当前时间是：%time% 即 %time:~0,2%点%time:~3,2%分%time:~6,2%秒%time:~9,2%厘秒 pause 当然，我最常用的就是对日期、时间等内置变量的操作。 文件路径字符的截取主要依靠 Windows 内置的扩展变量用法来进行。 执行 for /? 可以查看路径扩展的 举例说明，如下（注意，需要另存为 test.bat 文件形式执行）： @echo off echo 当前路径的完整字符串：%0 echo 当前路径的完整字符串（如被双引号包围，去除双引号）：%~0 echo 当前路径的所在分区：%~d0 echo 当前路径的目录：%~p0 echo 文件名：%~n0 echo 扩展名：%~x0 echo 文件属性：%~a0 echo 修改时间：%~t0 echo 文件大小：%~z0 pause 路径处理，往往都配合 for 函数进行操作。 未完待续… 版本说明变更日志 2020/08/20 10:49:23，创建文章。 参考索引 CharyGao.DOS命令（cmd）批处理：替换字符串、截取字符串、扩充字符串、获取字符串长度[EB/OL].https://www.cnblogs.com/Chary/p/No0000A4.html, 2020/08/20.","categories":[{"name":"编程","slug":"编程","permalink":"https://faradays-studio.gitee.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"Windows","slug":"Windows","permalink":"https://faradays-studio.gitee.io/tags/Windows/"},{"name":"批处理","slug":"批处理","permalink":"https://faradays-studio.gitee.io/tags/%E6%89%B9%E5%A4%84%E7%90%86/"},{"name":"字符运算","slug":"字符运算","permalink":"https://faradays-studio.gitee.io/tags/%E5%AD%97%E7%AC%A6%E8%BF%90%E7%AE%97/"}]},{"title":"Hello World（世界，你好）","slug":"世界，你好","date":"2020-08-08T16:00:00.000Z","updated":"2020-08-23T16:02:19.426Z","comments":true,"path":"202008090000/","link":"","permalink":"https://faradays-studio.gitee.io/202008090000/","excerpt":"","text":"追求卓越！","categories":[{"name":"Faradays' Studio","slug":"Faradays-Studio","permalink":"https://faradays-studio.gitee.io/categories/Faradays-Studio/"}],"tags":[]},{"title":"网站框架更新概要","slug":"chang-log","date":"2020-06-07T08:00:50.000Z","updated":"2020-08-28T13:55:38.448Z","comments":true,"path":"202006071600/","link":"","permalink":"https://faradays-studio.gitee.io/202006071600/","excerpt":"","text":"TO-DO 配置评论系统，实现文章留言；； 解决链接跳转错误问题（累经数月间歇性反复测试，初步认为为编译时不支持 ? 符号的使用）； Markdown 文件添加脚本引用，并添加计数功能。 系统更新日志 2020/04/19 16:02:08，创建《更新日志》； 2020/04/19 21:47:44，整合原有静态网站，并入站点中跳转。 2020/04/22 0:54:40，修改 URL 设置，修改《如何使用 svg.js 创建 svg 文档》文章内容为中文。 2020/04/22 21:50:16，参考网友方法，纠正网页点击时变成了下载的 Bug，主要原因是 permalink 末尾没有添加 /符号，最终修改为 permalink: :lang/:title/ 。 2020/04/25 22:56:19，修改 post 模板增加封面默认页。 2020/07/19 21:02:13，投入了大量的时间研究主题的定制，初步决定个性化修改后的主题名为 Faradays 。 2020/08/07 00:01:17，修改 Faradays 主题，调整文章页打赏、分享、目录导航、作者等内容布局样式。 2020/08/18 22:23:18，博客升级至 v0.1.3，主题增加时间轴、全站字数统计等功能，完成原创字段、图标等一系列更新。 2020/08/23 01:18:51，增加 gitalk评论、代码高亮、文章序号等功能，并调整原创显示样式、URL格式（去除语言字段）等。 2020/08/25 23:03:26，升级至 v0.1.5，开展独立页功能测试，增加多作者署名、文章页QQ联系博主、增加about页等功能，并调整了首页元素的 hover 样式、版权声明等内容。 2020/08/27 22:39:43，经过 5.66h 的尝试，删除部分不恰当的 commit，重新生成网址文件；对本地的 hexo 版本库和独立的 Git 文件库均进行了处理，确保版本一致、可用。 2020/08/28 21:53:51，升级至 v0.1.6，增加 sitemap、备用链接功能，调整署名、关键词设置。 参考文献 猴子请来的救兵.Hexo主题开发[EB/OL].https://www.cnblogs.com/yyhh/p/11058985.html, 2020/07/19. 文章介绍的主题开发的内容，对于定制 Faradays 主题起了最初的启发意义。 梅卫平.Hexo博客实现首页和子页面不同layout布局[EB/OL].https://my.oschina.net/u/3372900/blog/911534, 2020/07/19. MinHow.MiHo-主题安装和配置详情[EB/OL].https://blog.minhow.com/articles/blog/installation-configuration/, 2020/07/19. 网站主题基于 MiHo 修改，揉入了 Ayer、3-hexo 等主题的特色。在此，特别提出感谢！ 沈宇.Ayer中文说明[EB/OL].https://shen-yu.gitee.io/2019/ayer/, 2020/07/19. 网站主题参考了部分 Ayer 的设计思路。 MOxFIVE.Yelee —— 简而不减 Hexo 双栏博客主题[EB/OL].http://moxfive.xyz/yelee/, 2020/08/22. Tom-shushu.一款超好用的第三方评论插件--GITALK[EB/OL].https://www.cnblogs.com/Tom-shushu/p/10970526.html, 2020/08/22. Tommy Chen, HEXO官方文档.hexo 变量[EB/OL].https://hexo.io/zh-cn/docs/variables.html, 2020/08/22. Tommy Chen, HEXO官方文档.hexo 辅助函数（Helpers）[EB/OL].https://hexo.io/zh-cn/docs/helpers, 2020/08/22. 菜鸟教程.Font Awesome 参考手册[EB/OL].https://www.runoob.com/font-awesome/fontawesome-reference.html, 2020/08/23. 杨玉杰.Hexo 主题 3-hexo[EB/OL].https://yelog.org/2017/03/07/3-hexo/, 2020/08/23. 动力节点.CSS八种让人眼前一亮的HOVER效果[EB/OL].https://zhuanlan.zhihu.com/p/188620420, 2020/08/23.","categories":[{"name":"Faradays' Studio","slug":"Faradays-Studio","permalink":"https://faradays-studio.gitee.io/categories/Faradays-Studio/"}],"tags":[{"name":"日志","slug":"日志","permalink":"https://faradays-studio.gitee.io/tags/%E6%97%A5%E5%BF%97/"}]},{"title":"如何使用 svg.js 创建 svg 文档","slug":"如何使用svg.js创建svg文档","date":"2019-02-09T01:51:30.000Z","updated":"2019-02-10T13:51:52.000Z","comments":true,"path":"201902090951/","link":"","permalink":"https://faradays-studio.gitee.io/201902090951/","excerpt":"","text":"前段时间，我尝试了使用 svg.js 来创建 svg dom 文档时，并没有成功。经过反复多次的尝试，并网络检索了一些信息，初步确认为官方文档未及时更新，导致了编码错误。 使用 svg.js 遇到的问题举个例子，dom 文档 .html 的结构如下： &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Creating SVG with SVG.js&lt;/title&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt; &lt;script src=&quot;https://cdn.bootcss.com/svg.js/3.0.11/svg.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;drawing&quot;&gt;&lt;/div&gt; &lt;script&gt; // write down your javascript here.. &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; 官方文档（见 https://svgjs.com/docs/3.0/getting-started/ ）对于 JavaScript 脚本环节的部分 &lt;script&gt;...&lt;/script&gt; 是这样写的： var draw = SVG(&#39;drawing&#39;).size(300, 300) var rect = draw.rect(100, 100).attr(&#123; fill: &#39;#f06&#39; &#125;) 上述脚本在 jsfiddle.net 网站中测试是无异常的，详见 https://jsfiddle.net/wout/wmtt8rkz/7/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=wmtt8rkz 。然而，无论我是在 IE 7.0 至 11.0，还是在 Chrome 58 内核的浏览器中，我的本地测试从未成功。因此，整整 2 天里，我都未能从试验的阴影中恢复过来，反反复复进行了无数次试验，均无果而终。 使用 svg.js 书写脚本和 DOM 的方法在无数次的一边尝试、一边网络搜索的过程中，我发现了以下可行的方法： 1. 方法 1 DOM 文档： &lt;div id=&quot;drawing&quot;&gt;&lt;/div&gt; 脚本 1： var draw = SVG().addTo(&#39;#drawing&#39;).size(1024,200); 或采取以下脚本： 脚本 2： var draw = SVG().addTo(&#39;#drawing&#39;).size(&#39;100%&#39;, &#39;100%&#39;); 2. 方法 2 DOM 文档： &lt;div class=&quot;drawing&quot;&gt;&lt;/div&gt; 脚本 1： var draw = SVG().addTo(&#39;.drawing&#39;).size(1024,200); 或采取以下脚本： 脚本 2： var draw = SVG().addTo(&#39;.drawing&#39;).size(&#39;100%&#39;, &#39;100%&#39;); 3. 方法 3 DOM 文档： &lt;svg id=&quot;drawing&quot;&gt;&lt;/svg&gt; 脚本 1： var draw = SVG(&#39;#drawing&#39;).size(1024, 200); 或采取以下脚本： 脚本 2： var draw = SVG(&#39;#drawing&#39;).size(&#39;100%&#39;, &#39;100%&#39;); 收工完事！","categories":[{"name":"编程","slug":"编程","permalink":"https://faradays-studio.gitee.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://faradays-studio.gitee.io/tags/JavaScript/"},{"name":"SVG","slug":"SVG","permalink":"https://faradays-studio.gitee.io/tags/SVG/"}]},{"title":"How to creat svg document with svg.js","slug":"How-to-creat-svg-document-with-svg-js","date":"2019-02-08T01:00:30.000Z","updated":"2019-02-10T13:51:52.000Z","comments":true,"path":"201902080900/","link":"","permalink":"https://faradays-studio.gitee.io/201902080900/","excerpt":"","text":"A few days ago, I got stuck in the mud of creating a svg dom with svg.js. After many test and searching, I found out that someting is different from the official manual. The problem of using svg.jsFor example, we write some dom in .html like this: &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Creating SVG with SVG.js&lt;/title&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt; &lt;script src=&quot;https://cdn.bootcss.com/svg.js/3.0.11/svg.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;drawing&quot;&gt;&lt;/div&gt; &lt;script&gt; // write down your javascript here.. &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; The official manual (refer to https://svgjs.com/docs/3.0/getting-started/) said that &lt;script&gt;...&lt;/script&gt; part like this: var draw = SVG(&#39;drawing&#39;).size(300, 300) var rect = draw.rect(100, 100).attr(&#123; fill: &#39;#f06&#39; &#125;) The script above pass through on jsfiddle.net test (refer to https://jsfiddle.net/wout/wmtt8rkz/7/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=wmtt8rkz ). However, it doesn’t work on my case, no matter running on my MSIE 7.0 to 11.0 or Chrome 58. I felt so depressed that even could not got sleep for two whole days. The way to write svg.js script and DOMAfter many tests and searching, I found out that these code running: 1. Way 1: DOM: &lt;div id=&quot;drawing&quot;&gt;&lt;/div&gt; Script 1: var draw = SVG().addTo(&#39;#drawing&#39;).size(1024,200); or Script 2: var draw = SVG().addTo(&#39;#drawing&#39;).size(&#39;100%&#39;, &#39;100%&#39;); 2. Way 2: DOM: &lt;div class=&quot;drawing&quot;&gt;&lt;/div&gt; Script 1: var draw = SVG().addTo(&#39;.drawing&#39;).size(1024,200); or Script 2: var draw = SVG().addTo(&#39;.drawing&#39;).size(&#39;100%&#39;, &#39;100%&#39;); 3. Way 3: DOM: &lt;svg id=&quot;drawing&quot;&gt;&lt;/svg&gt; Script 1: var draw = SVG(&#39;#drawing&#39;).size(1024, 200); or Script 2: var draw = SVG(&#39;#drawing&#39;).size(&#39;100%&#39;, &#39;100%&#39;); Done!","categories":[{"name":"English","slug":"English","permalink":"https://faradays-studio.gitee.io/categories/English/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://faradays-studio.gitee.io/tags/JavaScript/"},{"name":"SVG","slug":"SVG","permalink":"https://faradays-studio.gitee.io/tags/SVG/"}]}],"categories":[{"name":"电脑爱好者","slug":"电脑爱好者","permalink":"https://faradays-studio.gitee.io/categories/%E7%94%B5%E8%84%91%E7%88%B1%E5%A5%BD%E8%80%85/"},{"name":"编程","slug":"编程","permalink":"https://faradays-studio.gitee.io/categories/%E7%BC%96%E7%A8%8B/"},{"name":"Faradays' Studio","slug":"Faradays-Studio","permalink":"https://faradays-studio.gitee.io/categories/Faradays-Studio/"},{"name":"English","slug":"English","permalink":"https://faradays-studio.gitee.io/categories/English/"}],"tags":[{"name":"Apple","slug":"Apple","permalink":"https://faradays-studio.gitee.io/tags/Apple/"},{"name":"Macbook","slug":"Macbook","permalink":"https://faradays-studio.gitee.io/tags/Macbook/"},{"name":"MacOS","slug":"MacOS","permalink":"https://faradays-studio.gitee.io/tags/MacOS/"},{"name":"密码","slug":"密码","permalink":"https://faradays-studio.gitee.io/tags/%E5%AF%86%E7%A0%81/"},{"name":"操作系统","slug":"操作系统","permalink":"https://faradays-studio.gitee.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"PE","slug":"PE","permalink":"https://faradays-studio.gitee.io/tags/PE/"},{"name":"U盘","slug":"U盘","permalink":"https://faradays-studio.gitee.io/tags/U%E7%9B%98/"},{"name":"Windows","slug":"Windows","permalink":"https://faradays-studio.gitee.io/tags/Windows/"},{"name":"批处理","slug":"批处理","permalink":"https://faradays-studio.gitee.io/tags/%E6%89%B9%E5%A4%84%E7%90%86/"},{"name":"字符运算","slug":"字符运算","permalink":"https://faradays-studio.gitee.io/tags/%E5%AD%97%E7%AC%A6%E8%BF%90%E7%AE%97/"},{"name":"日志","slug":"日志","permalink":"https://faradays-studio.gitee.io/tags/%E6%97%A5%E5%BF%97/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://faradays-studio.gitee.io/tags/JavaScript/"},{"name":"SVG","slug":"SVG","permalink":"https://faradays-studio.gitee.io/tags/SVG/"}]}